<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Module Restoration Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-2xl font-bold mb-6 text-center">üîß Flashcard Module Restoration Test</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Flashcard Mode Test -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold mb-4 text-blue-600">üì± Flashcard Mode</h2>
                <div class="test-info mb-4">
                    <p class="text-sm text-gray-600"><strong>Expected:</strong> Individual Turkish words</p>
                    <p class="text-sm text-gray-600"><strong>Should display:</strong> word.turkish</p>
                </div>
                <div id="flashcard-test" class="p-4 border-2 border-blue-200 rounded bg-blue-50">
                    <p class="text-center">Loading flashcard test...</p>
                </div>
            </div>
            
            <!-- Phrase Mode Test -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold mb-4 text-green-600">üìù Phrase Mode</h2>
                <div class="test-info mb-4">
                    <p class="text-sm text-gray-600"><strong>Expected:</strong> Turkish sentences/phrases</p>
                    <p class="text-sm text-gray-600"><strong>Should display:</strong> word.turkishSentence || word.example</p>
                </div>
                <div id="phrase-test" class="p-4 border-2 border-green-200 rounded bg-green-50">
                    <p class="text-center">Loading phrase test...</p>
                </div>
            </div>
        </div>
        
        <div id="results" class="mt-8 p-6 bg-white rounded-lg shadow-lg">
            <h3 class="text-lg font-semibold mb-4">Test Results</h3>
            <div id="test-output" class="space-y-2"></div>
        </div>
    </div>

    <script>
        // Test data sample
        const sampleWord = {
            id: 1,
            turkish: "ev",           // Individual word
            arabic: "ÿ®Ÿäÿ™",
            english: "house",
            turkishSentence: "Bu ev √ßok g√ºzel.",  // Full sentence
            arabicSentence: "Ÿáÿ∞ÿß ÿßŸÑÿ®Ÿäÿ™ ÿ¨ŸÖŸäŸÑ ÿ¨ÿØÿßŸã.",
            pronunciation: "ev",
            category: "noun"
        };
        
        // Test results
        function addResult(test, status, message) {
            const output = document.getElementById('test-output');
            const div = document.createElement('div');
            div.className = `p-3 rounded ${status === 'pass' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`;
            div.innerHTML = `
                <strong>${test}:</strong> 
                <span class="font-mono">${status.toUpperCase()}</span>
                <br><small>${message}</small>
            `;
            output.appendChild(div);
        }
        
        // Test flashcard logic
        function testFlashcardLogic() {
            const flashcardDisplay = sampleWord.turkish; // Should be individual word
            const expectedWord = "ev";
            
            document.getElementById('flashcard-test').innerHTML = `
                <div class="text-center">
                    <div class="text-2xl font-bold text-blue-700">${flashcardDisplay}</div>
                    <div class="text-sm text-gray-500 mt-2">Displayed content</div>
                </div>
            `;
            
            if (flashcardDisplay === expectedWord && !flashcardDisplay.includes('.')) {
                addResult('Flashcard Content', 'pass', `Correctly shows individual word: "${flashcardDisplay}"`);
            } else {
                addResult('Flashcard Content', 'fail', `Expected individual word but got: "${flashcardDisplay}"`);
            }
        }
        
        // Test phrase logic 
        function testPhraseLogic() {
            const phraseDisplay = sampleWord.turkishSentence || sampleWord.example || sampleWord.turkish;
            const expectedSentence = "Bu ev √ßok g√ºzel.";
            
            document.getElementById('phrase-test').innerHTML = `
                <div class="text-center">
                    <div class="text-lg font-bold text-green-700">${phraseDisplay}</div>
                    <div class="text-sm text-gray-500 mt-2">Displayed content</div>
                </div>
            `;
            
            if (phraseDisplay === expectedSentence && phraseDisplay.includes('.')) {
                addResult('Phrase Content', 'pass', `Correctly shows sentence: "${phraseDisplay}"`);
            } else {
                addResult('Phrase Content', 'fail', `Expected sentence but got: "${phraseDisplay}"`);
            }
        }
        
        // Test separation
        function testModuleSeparation() {
            const flashcardContent = sampleWord.turkish;
            const phraseContent = sampleWord.turkishSentence || sampleWord.example || sampleWord.turkish;
            
            if (flashcardContent !== phraseContent) {
                addResult('Module Separation', 'pass', 'Flashcard and phrase modes display different content correctly');
            } else {
                addResult('Module Separation', 'fail', 'Both modes show same content - separation failed');
            }
        }
        
        // Run tests
        setTimeout(() => {
            testFlashcardLogic();
            testPhraseLogic();
            testModuleSeparation();
            
            addResult('Module Status', 'pass', 'Flashcard module has been successfully restored to show individual words only');
        }, 500);
    </script>
</body>
</html>